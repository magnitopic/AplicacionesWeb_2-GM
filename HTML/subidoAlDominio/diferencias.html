<!DOCTYPE html>
<html lang="en">
<!--NOTE:This page dosen't work with LiveServer-->

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-color/2.1.2/jquery.color.js"></script>
	<link rel='stylesheet' type='text/css' media='screen' href='css/diferencias.css'>
	<title>Diferencias</title>

</head>

<body>
	<div id="title">
		Haz click en las diferencias de la imagen de la derecha:
	</div>

	<canvas style="background-color: black;" id="canvas"></canvas>
	<div id="info"></div>
	<div id="cordenadas"></div>
	
	<img src="imagenes/original_1.jpg" class="imagenDeCarga">
	<img src="imagenes/diferencias1.jpg" class="imagenDeCarga">
	<img src="imagenes/original_2.jpg" class="imagenDeCarga">
	<img src="imagenes/diferencias2.jpg" class="imagenDeCarga">

	<!--JavaScript-->
	<script>
		const canvas = document.getElementById("canvas");
		const ctx = canvas.getContext('2d');

		canvas.width = 800;
		canvas.height = 400;
		ctx.fillStyle = "white";

		const img_1 = new Image();
		const img_2 = new Image();
		const img_3 = new Image();
		const img_4 = new Image();

		img_1.src = "imagenes/original_1.jpg";
		img_2.src = "imagenes/diferencias1.jpg";
		img_3.src = "imagenes/original_2.jpg";
		img_4.src = "imagenes/diferencias2.jpg";

		ctx.drawImage(img_1, 0, 0, 400, 400);
		ctx.drawImage(img_2, 400, 0, 400, 400);

		var dif1 = 0;
		var dif2 = 0;
		var dif3 = 0;
		var dif4 = 0;
		var dif5 = 0;


		var pantalla = 1;

		$("#canvas").click((e) => {
			var x = e.pageX;
			var y = e.pageY;
			var cordenadas = "Has hecho click en X: " + x + " Y:" + y;
			$("#cordenadas").html(cordenadas);


			if (pantalla == 1) {
				if ((x >= 567) && (x <= 621) && (y >= 96) && (y <= 110)) {
					dif1 = 1;
					mensaje = ("Correcto, has encontrado una diferencia " + (dif1 + dif2 + dif3 + dif4 + dif5) + "/5");
					$("#info").html(mensaje);
				} else if ((x >= 553) && (x <= 573) && (y >= 222) && (y <= 245)) {
					dif2 = 1;
					mensaje = ("Correcto, has encontrado una diferencia " + (dif1 + dif2 + dif3 + dif4 + dif5) + "/5");
					$("#info").html(mensaje);
				} else if ((x >= 510) && (x <= 541) && (y >= 306) && (y <= 354)) {
					dif3 = 1;
					mensaje = ("Correcto, has encontrado una diferencia " + (dif1 + dif2 + dif3 + dif4 + dif5) + "/5");
					$("#info").html(mensaje);
				} else if ((x >= 636) && (x <= 653) && (y >= 277) && (y <= 311)) {
					dif4 = 1;
					mensaje = ("Correcto, has encontrado una diferencia " + (dif1 + dif2 + dif3 + dif4 + dif5) + "/5");
					$("#info").html(mensaje);
				} else if ((x >= 660) && (x <= 735) && (y >= 315) && (y <= 360)) {
					dif5 = 1;
					mensaje = ("Correcto, has encontrado una diferencia " + (dif1 + dif2 + dif3 + dif4 + dif5) + "/5");
					$("#info").html(mensaje);
				} else {
					mensaje = ("No está aquí. Sige juagando");
					$("#info").html(mensaje);
				}

				if (dif1 + dif2 + dif3 + dif4 + dif5 == 5) {
					alert("Has adivinado todas las diferencias de esta imagen");
					pantalla = 2;
					ctx.drawImage(img_3, 0, 0, 400, 400);
					ctx.drawImage(img_4, 400, 0, 400, 400);
					dif1 = 0;
					dif2 = 0;
					dif3 = 0;
					$("#info").html("");
				}
			} else if (pantalla == 2) {
				if ((x >= 500) && (x <= 540) && (y >= 261) && (y <= 282)) {
					dif1 = 1;
					mensaje = ("Correcto, has encontrado una diferencia " + (dif1 + dif2 + dif3) + "/3");
					$("#info").html(mensaje);
				} else if ((x >= 586) && (x <= 660) && (y >= 290) && (y <= 311)) {
					dif2 = 1;
					mensaje = ("Correcto, has encontrado una diferencia " + (dif1 + dif2 + dif3) + "/3");
					$("#info").html(mensaje);
				} else if ((x >= 709) && (x <= 729) && (y >= 227) && (y <= 251)) {
					dif3 = 1;
					mensaje = ("Correcto, has encontrado una diferencia " + (dif1 + dif2 + dif3) + "/3");
					$("#info").html(mensaje);
				} else {
					mensaje = ("No está aquí. Sige juagando");
					$("#info").html(mensaje);
				}

				if (dif1 + dif2 + dif3 == 3) {
					alert("Has adivinado todas las diferencias. Felicidades!");
				} 
			}
		});

	</script>
</body>

</html>